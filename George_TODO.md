Add locks to utility functions
Figure out LLM interaction
